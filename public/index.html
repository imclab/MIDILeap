<html>
<head>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.2/underscore-min.js"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
	<script src="//js.leapmotion.com/0.3.0-beta3/leap.min.js"></script>
	<script src="/socket.io/socket.io.js"></script>
	<script>
		(function() {
			var socket = io.connect(window.location.hostname);
		}());

		var controller = new Leap.Controller({enableGestures: true});
			controller.loop(function(frame) {
				latestFrame = frame;
				document.getElementById('responses').innerHTML = (latestFrame).dump()+"</div>";

				for (var i =  0; i < frame.gestures.length; i++) {
					var gesture  = frame.gestures[0];
					var type = gesture.type;

					switch (type) {
						case "circle":
							console.log('Circle');

							$.ajax({
								url: window.location.hostname + '/call',
								type: 'POST',
								data: {
									action: 'mute'
								}
							}).done(function() {
								
							});

							//io.sockets.emit('musicplay');
						break;
					}
				}
			});
	</script>
</head>
<body>
	<div id="responses">

	</div>
</body>
</html>